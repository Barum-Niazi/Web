<div class="store-container">
    <div class="cards-div">
        <% if (games.length > 0) { %> <% games.forEach(game => { %>
        <div class="card" data-name="<%= game.name %>">
            <img
                src="<%= game.coverImage %>"
                class="card-img-top"
                alt="<%= game.name %>"
            />
            <div class="card-body">
                <h5 class="card-title"><%= game.name %></h5>
                <p class="card-text">$<%= game.price %></p>
                <a
                    href="#"
                    class="btn btn-secondary cart-button"
                    data-game-name="<%= game.name %>"
                >
                    <i class="bi bi-cart"></i>
                    <span class="d-none d-md-inline">Add to Cart</span>
                </a>
            </div>
        </div>
        <% }) %> <% } else { %>
        <p>No games found matching your search criteria.</p>
        <% } %>
    </div>
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            <% if (currentPage > 1) { %>
            <li class="page-item">
                <a
                    class="page-link"
                    href="/search?search=<%= encodeURIComponent(search) %>&page=<%= currentPage - 1 %>"
                    aria-label="Previous"
                >
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                <a
                    class="page-link"
                    href="/search?search=<%= encodeURIComponent(search) %>&page=<%= i %>"
                    ><%= i %></a
                >
            </li>
            <% } %> <% if (currentPage < totalPages) { %>
            <li class="page-item">
                <a
                    class="page-link"
                    href="/search?search=<%= encodeURIComponent(search) %>&page=<%= currentPage + 1 %>"
                    aria-label="Next"
                >
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            <% } %>
        </ul>
    </nav>
</div>
<script src="/js/storeScript.js"></script>
<script src="/js/descriptionAndCartScript.js"></script>
